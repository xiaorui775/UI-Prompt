{"code":"// Analog Synthesizer - Skeuomorphism Style\n// Using Preact h() function\n\nfunction DemoComponent() {\n  const { useState, useEffect, useRef } = window.preact;\n\n  // State management for the \"Machine\"\n  const [power, setPower] = useState(true);\n  const [masterVol, setMasterVol] = useState(75);\n  const [filterCutoff, setFilterCutoff] = useState(40);\n  const [resonance, setResonance] = useState(60);\n  const [fader1, setFader1] = useState(80);\n  const [fader2, setFader2] = useState(30);\n  const [fader3, setFader3] = useState(55);\n  const [fader4, setFader4] = useState(90);\n  const [mode, setMode] = useState('ANALOG_01');\n  const [isPlaying, setIsPlaying] = useState(false);\n\n  // Derived Visual State\n  const opacity = power ? 'opacity-100' : 'opacity-40 grayscale';\n\n  // 1. The Screw Component\n  const Screw = ({ className }) => {\n    return h('div', {\n      className: `relative w-4 h-4 rounded-full bg-zinc-400 shadow-[inset_0_1px_2px_rgba(255,255,255,0.5),0_1px_1px_rgba(0,0,0,0.8)] flex items-center justify-center ${className}`\n    },\n      h('div', { className: 'absolute w-full h-full rounded-full bg-gradient-to-br from-zinc-300 to-zinc-600 opacity-80' }),\n      h('div', { className: 'relative w-2.5 h-0.5 bg-zinc-700/60 rotate-45 shadow-[inset_0_1px_1px_rgba(0,0,0,0.8)]' }),\n      h('div', { className: 'absolute w-2.5 h-0.5 bg-zinc-700/60 -rotate-45 shadow-[inset_0_1px_1px_rgba(0,0,0,0.8)]' })\n    );\n  };\n\n  // 2. The LED Component\n  const LED = ({ active, color = 'red', size = 'sm' }) => {\n    const sizeClasses = size === 'sm' ? 'w-2 h-2' : 'w-3 h-3';\n\n    const getGlow = () => {\n      if (!active) return 'bg-zinc-800 shadow-[inset_0_1px_2px_rgba(0,0,0,0.5)] border-zinc-900';\n      if (color === 'red') return 'bg-red-500 shadow-[0_0_10px_2px_rgba(239,68,68,0.6),inset_0_1px_4px_rgba(255,255,255,0.5)] border-red-700';\n      if (color === 'green') return 'bg-emerald-400 shadow-[0_0_10px_2px_rgba(52,211,153,0.6),inset_0_1px_4px_rgba(255,255,255,0.5)] border-emerald-600';\n      if (color === 'blue') return 'bg-cyan-400 shadow-[0_0_10px_2px_rgba(34,211,238,0.6),inset_0_1px_4px_rgba(255,255,255,0.5)] border-cyan-600';\n      return 'bg-yellow-400 shadow-[0_0_10px_2px_rgba(250,204,21,0.6),inset_0_1px_4px_rgba(255,255,255,0.5)] border-yellow-600';\n    };\n\n    return h('div', { className: `rounded-full border ${sizeClasses} transition-all duration-150 ${getGlow()}` });\n  };\n\n  // 3. The Metal Toggle Switch\n  const ToggleSwitch = ({ label, active, onToggle }) => {\n    return h('div', { className: 'flex flex-col items-center gap-2' },\n      h('div', {\n        className: 'relative w-12 h-20 bg-zinc-800 rounded-lg shadow-[inset_0_2px_5px_rgba(0,0,0,0.8),0_1px_0_rgba(255,255,255,0.1)] p-1 cursor-pointer group',\n        onClick: onToggle\n      },\n        h('div', { className: 'absolute inset-x-3 top-2 bottom-2 bg-black rounded-full shadow-[inset_0_0_5px_rgba(0,0,0,1)]' }),\n        h('div', {\n          className: `absolute left-1 right-1 h-10 rounded shadow-[0_4px_6px_rgba(0,0,0,0.6),inset_0_1px_0_rgba(255,255,255,0.4)] transition-all duration-200 ease-out z-10 ${active ? 'top-1 bg-gradient-to-b from-zinc-200 to-zinc-400' : 'bottom-1 bg-gradient-to-b from-zinc-400 to-zinc-600'}`\n        },\n          h('div', { className: 'w-full h-full flex flex-col justify-center items-center gap-0.5 opacity-30' },\n            h('div', { className: 'w-8 h-[1px] bg-black' }),\n            h('div', { className: 'w-8 h-[1px] bg-black' }),\n            h('div', { className: 'w-8 h-[1px] bg-black' })\n          )\n        )\n      ),\n      h('span', { className: 'text-[10px] font-bold tracking-widest text-zinc-400 uppercase drop-shadow-[0_1px_1px_rgba(0,0,0,0.8)]' }, label)\n    );\n  };\n\n  // 4. The Rotary Knob\n  const Knob = ({ label, value, min = 0, max = 100, onChange }) => {\n    const [isDragging, setIsDragging] = useState(false);\n    const knobRef = useRef(null);\n    const startY = useRef(0);\n    const startValue = useRef(0);\n\n    const rotation = -135 + (value / (max - min)) * 270;\n\n    useEffect(() => {\n      const handleMouseMove = (e) => {\n        if (!isDragging) return;\n        const sensitivity = 0.5;\n        const deltaY = startY.current - e.clientY;\n        let newValue = startValue.current + (deltaY * sensitivity);\n        newValue = Math.min(Math.max(newValue, min), max);\n        onChange(newValue);\n      };\n\n      const handleMouseUp = () => {\n        setIsDragging(false);\n        document.body.style.cursor = 'default';\n      };\n\n      if (isDragging) {\n        window.addEventListener('mousemove', handleMouseMove);\n        window.addEventListener('mouseup', handleMouseUp);\n        document.body.style.cursor = 'ns-resize';\n      }\n\n      return () => {\n        window.removeEventListener('mousemove', handleMouseMove);\n        window.removeEventListener('mouseup', handleMouseUp);\n      };\n    }, [isDragging, min, max, onChange]);\n\n    const handleMouseDown = (e) => {\n      setIsDragging(true);\n      startY.current = e.clientY;\n      startValue.current = value;\n    };\n\n    return h('div', { className: 'flex flex-col items-center gap-3' },\n      h('div', { className: 'relative w-20 h-20 flex items-center justify-center' },\n        [...Array(11)].map((_, i) => {\n          const tickRot = -135 + (i * 27);\n          return h('div', {\n            key: i,\n            className: `absolute w-1 h-2 bg-zinc-500 origin-bottom shadow-[0_1px_1px_rgba(0,0,0,1)] ${i % 5 === 0 ? 'h-3 w-1.5 bg-zinc-300' : ''}`,\n            style: {\n              transform: `rotate(${tickRot}deg) translateY(-42px)`,\n              bottom: '50%'\n            }\n          });\n        }),\n        h('div', {\n          ref: knobRef,\n          onMouseDown: handleMouseDown,\n          className: 'relative w-16 h-16 rounded-full cursor-ns-resize active:cursor-ns-resize shadow-[0_8px_15px_rgba(0,0,0,0.6),0_2px_4px_rgba(0,0,0,0.4)] z-10',\n          style: { background: 'conic-gradient(from 180deg, #27272a, #52525b, #27272a)' }\n        },\n          h('div', { className: 'absolute inset-1 rounded-full bg-gradient-to-b from-zinc-600 to-zinc-800 shadow-[inset_0_1px_1px_rgba(255,255,255,0.3)]' },\n            h('div', {\n              className: 'absolute inset-0.5 rounded-full bg-zinc-800 opacity-90',\n              style: { backgroundImage: 'radial-gradient(#3f3f46 1px, transparent 1px)', backgroundSize: '4px 4px' }\n            }),\n            h('div', {\n              className: 'absolute top-1 left-1/2 -translate-x-1/2 w-1.5 h-6 bg-orange-500 rounded-sm shadow-[0_0_5px_rgba(249,115,22,0.5)]',\n              style: { transformOrigin: '50% 28px', transform: `rotate(${rotation}deg)` }\n            })\n          )\n        )\n      ),\n      h('span', { className: 'text-[10px] font-bold tracking-widest text-zinc-400 uppercase drop-shadow-[0_1px_1px_rgba(0,0,0,0.8)] select-none' }, label)\n    );\n  };\n\n  // 5. The Fader (Slider)\n  const Fader = ({ label, value, onChange }) => {\n    const [isDragging, setIsDragging] = useState(false);\n    const trackRef = useRef(null);\n\n    const handleInteraction = (clientY) => {\n      if (!trackRef.current) return;\n      const rect = trackRef.current.getBoundingClientRect();\n      const height = rect.height;\n      const bottom = rect.bottom;\n      let percentage = (bottom - clientY) / height;\n      percentage = Math.min(Math.max(percentage, 0), 1);\n      onChange(Math.round(percentage * 100));\n    };\n\n    useEffect(() => {\n      const handleMouseMove = (e) => {\n        if (isDragging) {\n          handleInteraction(e.clientY);\n        }\n      };\n      const handleMouseUp = () => {\n        setIsDragging(false);\n        document.body.style.cursor = 'default';\n      };\n\n      if (isDragging) {\n        window.addEventListener('mousemove', handleMouseMove);\n        window.addEventListener('mouseup', handleMouseUp);\n        document.body.style.cursor = 'pointer';\n      }\n      return () => {\n        window.removeEventListener('mousemove', handleMouseMove);\n        window.removeEventListener('mouseup', handleMouseUp);\n      };\n    }, [isDragging]);\n\n    return h('div', { className: 'flex flex-col items-center h-48 w-12 gap-3' },\n      h('div', {\n        className: 'relative flex-1 w-full flex justify-center py-2',\n        ref: trackRef,\n        onMouseDown: (e) => { setIsDragging(true); handleInteraction(e.clientY); }\n      },\n        h('div', { className: 'w-2 h-full bg-black rounded-full shadow-[inset_0_1px_3px_rgba(0,0,0,1),0_1px_0_rgba(255,255,255,0.1)] relative' },\n          h('div', { className: 'absolute -left-4 top-0 bottom-0 flex flex-col justify-between py-1' },\n            [...Array(6)].map((_, i) => h('div', { key: i, className: 'w-2 h-[1px] bg-zinc-600' }))\n          ),\n          h('div', { className: 'absolute -right-4 top-0 bottom-0 flex flex-col justify-between py-1' },\n            [...Array(6)].map((_, i) => h('div', { key: i, className: 'w-2 h-[1px] bg-zinc-600' }))\n          )\n        ),\n        h('div', {\n          className: 'absolute left-1/2 -translate-x-1/2 w-8 h-12 bg-zinc-300 rounded shadow-[0_4px_6px_rgba(0,0,0,0.5),inset_0_1px_0_rgba(255,255,255,0.8),inset_0_-2px_10px_rgba(0,0,0,0.1)] cursor-pointer z-20 group',\n          style: { bottom: `${value}%`, transform: 'translate(-50%, 50%)' }\n        },\n          h('div', { className: 'absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full h-[2px] bg-black opacity-80' }),\n          h('div', { className: 'absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-zinc-400 opacity-50 rounded' })\n        )\n      ),\n      h('span', { className: 'text-[10px] font-bold tracking-widest text-zinc-400 uppercase drop-shadow-[0_1px_1px_rgba(0,0,0,0.8)] select-none' }, label)\n    );\n  };\n\n  // 6. Tangible Push Button\n  const PushButton = ({ icon, label, active, onClick, color = 'zinc' }) => {\n    const gradient = color === 'orange' ? 'from-orange-500 to-orange-700' : 'from-zinc-600 to-zinc-800';\n\n    return h('div', { className: 'flex flex-col items-center gap-2' },\n      h('button', {\n        onClick: onClick,\n        className: `relative w-14 h-14 rounded-lg outline-none group transition-all duration-75 ${active ? 'translate-y-0.5' : '-translate-y-0'}`\n      },\n        h('div', {\n          className: `absolute inset-0 rounded-lg ${active ? 'shadow-[inset_0_3px_6px_rgba(0,0,0,0.6),0_1px_0_rgba(255,255,255,0.05)]' : 'shadow-[0_4px_6px_rgba(0,0,0,0.6),0_8px_15px_rgba(0,0,0,0.4),inset_0_1px_0_rgba(255,255,255,0.3)]'}`\n        }),\n        h('div', { className: `absolute inset-0 rounded-lg bg-gradient-to-b ${gradient} flex items-center justify-center text-zinc-200 ${active ? 'opacity-80' : 'opacity-100'}` },\n          h('div', { className: 'absolute inset-2 rounded bg-gradient-to-br from-black/20 to-white/10 opacity-50' }),\n          h('div', {\n            className: `relative z-10 transition-all ${active ? 'text-white drop-shadow-[0_0_8px_rgba(255,255,255,0.8)]' : 'text-zinc-300 drop-shadow-[0_-1px_0_rgba(0,0,0,0.5)]'}`,\n            dangerouslySetInnerHTML: { __html: icon }\n          })\n        )\n      ),\n      label && h('span', { className: 'text-[10px] font-bold tracking-widest text-zinc-500 uppercase drop-shadow-[0_1px_1px_rgba(0,0,0,0.8)]' }, label)\n    );\n  };\n\n  // 7. The Retro Display\n  const Display = ({ mode, bpm, volume }) => {\n    return h('div', { className: 'relative w-full h-32 bg-black rounded-lg p-1 shadow-[inset_0_2px_8px_rgba(0,0,0,1),0_1px_0_rgba(255,255,255,0.1)] overflow-hidden' },\n      h('div', { className: 'absolute inset-0 bg-gradient-to-tr from-transparent via-white/5 to-transparent pointer-events-none z-20' }),\n      h('div', { className: 'w-full h-full bg-[#1a1a1c] relative rounded overflow-hidden flex flex-col p-4 border border-[#333]' },\n        h('div', {\n          className: 'absolute inset-0 opacity-10',\n          style: { backgroundImage: 'linear-gradient(#444 1px, transparent 1px), linear-gradient(90deg, #444 1px, transparent 1px)', backgroundSize: '10px 10px' }\n        }),\n        h('div', { className: 'flex justify-between items-end mb-2 z-10' },\n          h('div', null,\n            h('div', { className: 'text-[10px] text-cyan-700 uppercase mb-1' }, 'Mode Select'),\n            h('div', { className: 'text-xl font-mono text-cyan-400 tracking-wider drop-shadow-[0_0_5px_rgba(34,211,238,0.6)]' }, mode)\n          ),\n          h('div', { className: 'text-right' },\n            h('div', { className: 'text-[10px] text-cyan-700 uppercase mb-1' }, 'Master Output'),\n            h('div', { className: 'flex gap-0.5 items-end h-8' },\n              [...Array(8)].map((_, i) =>\n                h('div', {\n                  key: i,\n                  className: `w-2 rounded-sm ${i < (volume / 12) ? 'bg-cyan-400 shadow-[0_0_5px_rgba(34,211,238,0.8)]' : 'bg-cyan-900/30'}`,\n                  style: { height: `${(i+1) * 10}%` }\n                })\n              )\n            )\n          )\n        ),\n        h('div', { className: 'mt-auto flex justify-between items-center z-10 border-t border-cyan-900/30 pt-2' },\n          h('div', { className: 'flex items-center gap-2' },\n            h('svg', {\n              width: '12',\n              height: '12',\n              viewBox: '0 0 24 24',\n              fill: 'none',\n              stroke: 'currentColor',\n              className: 'text-cyan-600',\n              strokeWidth: '2',\n              strokeLinecap: 'round',\n              strokeLinejoin: 'round'\n            },\n              h('polyline', { points: '22 12 18 12 15 21 9 3 6 12 2 12' })\n            ),\n            h('span', { className: 'text-cyan-500 font-mono text-xs' }, `${bpm} BPM`)\n          ),\n          h('span', { className: 'text-[10px] text-cyan-800 font-mono' }, 'SYS.READY')\n        )\n      )\n    );\n  };\n\n  // Icon SVG strings\n  const iconDisc = '<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><circle cx=\"12\" cy=\"12\" r=\"10\"/><circle cx=\"12\" cy=\"12\" r=\"3\"/></svg>';\n  const iconPower = '<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M18.36 6.64a9 9 0 1 1-12.73 0\"/><line x1=\"12\" y1=\"2\" x2=\"12\" y2=\"12\"/></svg>';\n  const iconZap = '<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><polygon points=\"13 2 3 14 12 14 11 22 21 10 12 10 13 2\"/></svg>';\n\n  // Main Return\n  return h('div', { className: 'min-h-screen bg-zinc-900 flex items-center justify-center p-4 md:p-8 font-sans selection:bg-none' },\n    h('div', { className: 'relative bg-zinc-800 rounded-3xl shadow-[0_30px_60px_-10px_rgba(0,0,0,0.8),inset_0_1px_2px_rgba(255,255,255,0.2)] border-b-8 border-zinc-950 max-w-4xl w-full p-2' },\n      h('div', {\n        className: 'absolute inset-2 rounded-2xl bg-gradient-to-b from-[#3a3a40] to-[#27272a] overflow-hidden pointer-events-none z-0'\n      },\n        h('div', {\n          className: 'absolute inset-0 opacity-20 mix-blend-overlay bg-repeat',\n          style: { backgroundImage: 'url(\"data:image/svg+xml,%3Csvg viewBox=\\'0 0 200 200\\' xmlns=\\'http://www.w3.org/2000/svg\\'%3E%3Cfilter id=\\'noiseFilter\\'%3E%3CfeTurbulence type=\\'fractalNoise\\' baseFrequency=\\'0.85\\' numOctaves=\\'3\\' stitchTiles=\\'stitch\\'/%3E%3C/filter%3E%3Crect width=\\'100%25\\' height=\\'100%25\\' filter=\\'url(%23noiseFilter)\\'/%3E%3C/svg%3E\")' }\n        })\n      ),\n      h('div', { className: `relative z-10 rounded-xl p-6 md:p-10 transition-all duration-700 ${opacity}` },\n        h(Screw, { className: 'absolute top-4 left-4' }),\n        h(Screw, { className: 'absolute top-4 right-4' }),\n        h(Screw, { className: 'absolute bottom-4 left-4' }),\n        h(Screw, { className: 'absolute bottom-4 right-4' }),\n\n        h('div', { className: 'grid grid-cols-1 md:grid-cols-12 gap-8 mb-10' },\n          h('div', { className: 'md:col-span-3 flex flex-col justify-between' },\n            h('div', null,\n              h('h1', { className: 'text-2xl font-black italic tracking-tighter text-zinc-300 drop-shadow-[0_-1px_0_rgba(0,0,0,0.8)] mb-1' },\n                'CHROMA',\n                h('span', { className: 'text-orange-500' }, 'SYNTH')\n              ),\n              h('p', { className: 'text-[10px] font-bold text-zinc-500 tracking-[0.2em] uppercase' }, 'Tactile Audio Workstation')\n            ),\n            h('div', { className: 'mt-8 flex items-center gap-6 p-4 bg-black/20 rounded-xl shadow-[inset_0_1px_3px_rgba(0,0,0,0.5)] border-b border-white/5' },\n              h(ToggleSwitch, { label: 'Power', active: power, onToggle: () => setPower(!power) }),\n              h('div', { className: 'flex flex-col items-center gap-2' },\n                h(LED, { active: power, color: 'red', size: 'md' }),\n                h('span', { className: 'text-[9px] font-bold text-zinc-500' }, 'MAINS')\n              )\n            )\n          ),\n          h('div', { className: 'md:col-span-6' },\n            h(Display, { mode: mode, bpm: 128, volume: masterVol })\n          ),\n          h('div', { className: 'md:col-span-3 flex flex-col items-center justify-end' },\n            h('div', { className: 'bg-zinc-700/30 p-4 rounded-xl border border-white/5 shadow-[inset_0_2px_10px_rgba(0,0,0,0.3)]' },\n              h(Knob, { label: 'Master Vol', value: masterVol, onChange: setMasterVol })\n            )\n          )\n        ),\n\n        h('div', { className: 'h-px w-full bg-gradient-to-r from-transparent via-zinc-950 to-transparent opacity-50 mb-1 border-b border-white/5 mb-10' }),\n\n        h('div', { className: 'grid grid-cols-1 md:grid-cols-12 gap-8' },\n          h('div', { className: 'md:col-span-4 bg-[#232326] rounded-xl p-6 shadow-[inset_0_2px_6px_rgba(0,0,0,0.5),0_1px_0_rgba(255,255,255,0.05)] border border-black/40 relative' },\n            h('div', { className: 'absolute inset-0 bg-gradient-to-br from-white/5 to-transparent rounded-xl pointer-events-none' }),\n            h(Screw, { className: 'absolute top-2 left-2 w-3 h-3' }),\n            h(Screw, { className: 'absolute bottom-2 right-2 w-3 h-3' }),\n            h('h3', { className: 'text-xs font-bold text-zinc-500 uppercase tracking-widest mb-6 text-center border-b border-zinc-700 pb-2' }, 'Filter Section'),\n            h('div', { className: 'flex justify-around items-center' },\n              h(Knob, { label: 'Cutoff', value: filterCutoff, onChange: setFilterCutoff }),\n              h(Knob, { label: 'Resonance', value: resonance, onChange: setResonance })\n            )\n          ),\n\n          h('div', { className: 'md:col-span-4 flex flex-col items-center justify-center gap-6' },\n            h('div', { className: 'flex gap-4 p-4 rounded-2xl bg-black/20 shadow-[inset_0_2px_4px_rgba(0,0,0,0.4)] border-b border-white/5' },\n              h(PushButton, { icon: iconDisc, label: 'Play', active: isPlaying, onClick: () => { setIsPlaying(!isPlaying); setMode('PLAYING'); }, color: 'orange' }),\n              h(PushButton, { icon: iconPower, label: 'Stop', active: !isPlaying, onClick: () => { setIsPlaying(false); setMode('STOPPED'); } }),\n              h(PushButton, { icon: iconZap, label: 'Rec', active: mode === 'RECORDING', onClick: () => setMode('RECORDING') })\n            ),\n            h('div', { className: 'flex gap-4' },\n              h('div', { className: 'flex flex-col items-center gap-1' },\n                h(LED, { active: isPlaying, color: 'green' }),\n                h('span', { className: 'text-[8px] text-zinc-600 font-bold' }, 'RUN')\n              ),\n              h('div', { className: 'flex flex-col items-center gap-1' },\n                h(LED, { active: mode === 'RECORDING', color: 'red' }),\n                h('span', { className: 'text-[8px] text-zinc-600 font-bold' }, 'REC')\n              )\n            )\n          ),\n\n          h('div', { className: 'md:col-span-4 bg-[#2a2a2d] rounded-xl p-6 shadow-[inset_0_2px_6px_rgba(0,0,0,0.5)] relative border-t border-white/5' },\n            h('h3', { className: 'text-xs font-bold text-zinc-500 uppercase tracking-widest mb-4 text-center' }, 'Mixer'),\n            h('div', { className: 'flex justify-between px-2' },\n              h(Fader, { label: 'CH 1', value: fader1, onChange: setFader1 }),\n              h(Fader, { label: 'CH 2', value: fader2, onChange: setFader2 }),\n              h(Fader, { label: 'CH 3', value: fader3, onChange: setFader3 }),\n              h(Fader, { label: 'CH 4', value: fader4, onChange: setFader4 })\n            )\n          )\n        )\n      ),\n      h('div', { className: 'absolute -bottom-1 left-10 w-12 h-2 bg-[#111] rounded-b-lg shadow-lg' }),\n      h('div', { className: 'absolute -bottom-1 right-10 w-12 h-2 bg-[#111] rounded-b-lg shadow-lg' })\n    ),\n    h('div', { className: 'fixed top-0 left-0 w-full h-full pointer-events-none bg-gradient-to-tr from-blue-900/10 to-orange-900/10 z-50' })\n  );\n}\n","componentName":"App","lucideIcons":[],"mode":"react"}